var util=require("util"),roleHarvester={run:function(a){console.log("harvester-s: "+a+" CPU:"+Game.cpu.getUsed());if(0==a.carry.energy)a.add_task({type:"resupply"});else{var e=[STRUCTURE_EXTENSION,STRUCTURE_SPAWN,STRUCTURE_TOWER],b,f;for(f in e){var c=e[f];console.log("harvester-search : "+a+" "+c+" CPU:"+Game.cpu.getUsed());var d=a.pos.findNeedingEnergyStructures(c);console.log("harvester-foundsearch : "+a+" "+c+" CPU:"+Game.cpu.getUsed());if(1<d.length){console.log("harvester-foundclosestsearch : "+
a+" "+c+" CPU:"+Game.cpu.getUsed());b=a.pos.findClosestByRange(d);break}else if(1==d.length){b=d[0];break}}b?a.add_task({type:"transfer_energy",target_id:b.id}):a.move(Math.floor(8*Math.random()+1))}}};module.exports=roleHarvester;
