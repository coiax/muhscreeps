var roleHarvester={run:function(a){if(0==a.carry.energy)a.add_task({type:"resupply"});else{var c=a.room.find(FIND_STRUCTURES,{filter:function(a){return a.structureType==STRUCTURE_EXTENSION||a.structureType==STRUCTURE_SPAWN||a.structureType==STRUCTURE_TOWER}}),b=_.filter(c,function(a){return a.energy<a.energyCapacity});(b=a.pos.findClosestByRange(b))?a.transfer(b,RESOURCE_ENERGY)==ERR_NOT_IN_RANGE&&a.moveTo(b):c.length&&a.move(Math.floor(8*Math.random()+1))}}};module.exports=roleHarvester;
