var roleBuilder={run:function(a){a.memory.building&&0==a.carry.energy&&(a.memory.building=!1);!a.memory.building&&a.carry.energy==a.carryCapacity&&(a.memory.building=!0);if(a.memory.building){var b=a.room.find(FIND_CONSTRUCTION_SITES);if(b.length)a.build(b[0])==ERR_NOT_IN_RANGE&&a.moveTo(b[0]);else{var b=a.room.find(FIND_MY_STRUCTURES,{filter:function(a){return a.hits<a.hitsMax}}),c=a.room.find(FIND_STRUCTURES,{filter:function(a){return a.hits<a.hitsMax}}),c=_.sortBy(c,function(a){return a.hits-a.hitsMax}),
b=b.concat(c);b.length&&a.repair(b[0])==ERR_NOT_IN_RANGE&&a.moveTo(b[0])}}else b=a.room.find(FIND_SOURCES),a.harvest(b[0])==ERR_NOT_IN_RANGE&&a.moveTo(b[0])}};module.exports=roleBuilder;
