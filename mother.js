Game.prototype.creeps_of_role=function(a){return _.filter(this.creeps,function(d){return d.memory.role==a})};
function minimum_creeps(a,d){if(Game.creeps_of_role(a).length<d){var b,e=Game.spawns.Spawn2,c=e.room.energyCapacityAvailable;!b&&600<=c&&(b="guard"==a?[RANGED_ATTACK,RANGED_ATTACK,RANGED_ATTACK,MOVE,MOVE,MOVE]:[WORK,WORK,WORK,CARRY,CARRY,CARRY,MOVE,MOVE,MOVE]);!b&&400<=c&&(b="guard"==a?[RANGED_ATTACK,RANGED_ATTACK,MOVE,MOVE]:[WORK,WORK,CARRY,CARRY,MOVE,MOVE]);b||(b="guard"==a?[RANGED_ATTACK,MOVE]:[WORK,CARRY,MOVE]);e.canCreateCreep(b)&&(c=a+Memory.muhid,Memory.muhid++,e.createCreep(b,c,{role:a}))}}
module.exports={run:function(){"undefined"==typeof Memory.muhid&&(Memory.muhid=1);for(var a in Memory.creeps)Game.creeps[a]||delete Memory.creeps[a];minimum_creeps("guard",2);minimum_creeps("builder",2);minimum_creeps("upgrader",4);minimum_creeps("harvester",2);minimum_creeps("cow",4)}};
