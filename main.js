var roleHarvester=require("role.harvester"),roleUpgrader=require("role.upgrader"),roleBuilder=require("role.builder"),roleCow=require("role.cow"),genericActions=require("genericactions"),mother=require("mother");
module.exports.loop=function(){mother.run();var a=Game.getObjectById("TOWER_ID");if(a){var b=a.pos.findClosestByRange(FIND_STRUCTURES,{filter:function(a){return a.hits<a.hitsMax}});b&&a.repair(b);(b=a.pos.findClosestByRange(FIND_HOSTILE_CREEPS))&&a.attack(b)}for(var c in Game.creeps)a=Game.creeps[c],a.memory.generic_action?"harvest"==a.memory.generic_action&&genericActions.harvest(a):("harvester"==a.memory.role&&roleHarvester.run(a),"upgrader"==a.memory.role&&roleUpgrader.run(a),"builder"==a.memory.role&&
roleBuilder.run(a),"cow"==a.memory.role&&roleCow.run(a))};
